<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Next-gen weather experience s AI predikcemi a real-time vizualizacemi">
    <meta name="theme-color" content="#667eea">
    <meta name="author" content="Michal B√ºrgermeister">
    <title>Weather Ultimate - Budoucnost p≈ôedpovƒõdi poƒças√≠</title>
    
    <!-- Favicony -->
    <link rel="icon" type="image/svg+xml" href="./assets/favicon/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
    <link rel="shortcut icon" href="./assets/favicon/favicon.ico">

    <!-- Apple za≈ô√≠zen√≠ -->
    <link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">

    <!-- Android a Chrome -->
    <link rel="icon" type="image/png" sizes="192x192" href="./assets/favicon/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="./assets/favicon/android-chrome-512x512.png">

    <!-- Windows -->
    <meta name="msapplication-TileColor" content="#667eea">
    <meta name="msapplication-TileImage" content="./assets/favicon/mstile-144x144.png">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Preconnect & Prefetch -->
    <link rel="preconnect" href="https://api.openweathermap.org">
    <link rel="dns-prefetch" href="https://api.openweathermap.org">
    
    <!-- Styles -->
    <link rel="stylesheet" href="./css/main.css">

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('SW registered:', reg.scope))
                    .catch(err => console.log('SW registration failed:', err));
            });
        }
    </script>
</head>
<body>
    <!-- Background Elements -->
    <div class="universe-bg"></div>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
    <canvas id="particle-canvas"></canvas>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="P≈ôepnout motiv">üåô</button>

    <!-- Header -->
    <header class="hero">
        <div class="container">
            <h1 class="hero__title">
                <span class="hero__title-word">Weather</span>
                <span class="hero__title-word">Ultimate</span>
            </h1>
            <p class="hero__subtitle">
                Za≈æijte poƒças√≠ jako nikdy p≈ôedt√≠m s AI predikcemi a real-time vizualizacemi
            </p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- AI Insights Section -->
        <section class="ai-insights" id="aiInsights">
            <h2 class="ai-insights__title">
                <span>ü§ñ</span>
                AI P≈ôedpovƒõƒè
            </h2>
            <p class="ai-insights__content" id="aiContent">
                Analyzuji glob√°ln√≠ meteorologick√° data...
            </p>
        </section>

        <!-- Quick Stats -->
        <section class="quick-stats" id="quickStats">
            <div class="stat-card">
                <div class="stat-card__icon">üåç</div>
                <div class="stat-card__value" id="totalCities">0</div>
                <div class="stat-card__label">Sledovan√Ωch mƒõst</div>
            </div>
            <div class="stat-card">
                <div class="stat-card__icon">üå°Ô∏è</div>
                <div class="stat-card__value" id="avgTemp">--¬∞C</div>
                <div class="stat-card__label">Pr≈Ømƒõrn√° teplota</div>
            </div>
            <div class="stat-card">
                <div class="stat-card__icon">‚òÄÔ∏è</div>
                <div class="stat-card__value" id="sunnyCount">0</div>
                <div class="stat-card__label">Sluneƒçn√Ωch m√≠st</div>
            </div>
            <div class="stat-card">
                <div class="stat-card__icon">‚ö°</div>
                <div class="stat-card__value" id="updateTime">--:--</div>
                <div class="stat-card__label">Posledn√≠ update</div>
            </div>
        </section>

        <!-- Search Section -->
        <section class="search-section">
            <div class="search-container">
                <div class="search-wrapper">
                    <form class="search-input-group" id="searchForm">
                        <input 
                            type="text" 
                            class="search-input" 
                            id="searchInput"
                            placeholder="Hledejte mƒõsta po cel√©m svƒõtƒõ..."
                            autocomplete="off"
                            aria-label="Vyhledat mƒõsto"
                            aria-describedby="search-suggestions"
                        >
                        <button type="submit" class="search-button" aria-label="Hledat">
                            üîç
                        </button>
                    </form>
                </div>
                <div class="search-suggestions" id="searchSuggestions" role="listbox"></div>
            </div>
        </section>

        <!-- Weather Grid -->
        <section class="weather-grid" id="weatherGrid" role="list" aria-live="polite"></section>
        <div class="carousel-pagination" id="carouselPagination" aria-label="Navigace karet"></div>
    </main>

    <!-- Detail Modal -->
    <div class="detail-modal" id="detailModal" role="dialog" aria-modal="true">
        <div class="detail-modal__content" id="detailModalContent"></div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification" role="alert" aria-live="assertive"></div>

    <!-- Scripts -->
    <!-- Three.js for 3D effects -->
    <script src="https://unpkg.com/three@0.160.1/build/three.min.js"></script>

    <!-- Weather Effects -->
    <script src="./js/effects/background-manager.js"></script>
    <script src="./js/effects/weather-2d.js"></script>
    <script src="./js/effects/weather-3d.js"></script>
    <script src="./js/effects/sounds.js"></script>

    <!-- Modules -->
    <script src="./js/modules/moon.js"></script>

    <!-- Core Application (load order matters) -->
    <script src="./js/core/theme.js"></script>
    <script src="./js/core/carousel.js"></script>
    <script src="./js/core/config.js"></script>
    <script src="./js/core/state.js"></script>
    <script src="./js/core/cache.js"></script>
    <script src="./js/core/weather-service.js"></script>
    <script src="./js/core/ai-predictions.js"></script>
    <script src="./js/core/ui-helpers.js"></script>
    <script src="./js/core/ui-components.js"></script>
    <script src="./js/core/forecast.js"></script>
    <script src="./js/core/app.js"></script>
    <script src="./js/core/init.js"></script>
    <script src="./js/core/debug.js"></script>
</body>
</html>